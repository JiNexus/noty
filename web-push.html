<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="noty is a notification plugin which is have too many options for display notification">
    <meta name="keywords" content="notification, plugin, opensource, open, source">
    <meta name="author" content="Nedim ArabacÄ± (http://ned.im)">

    <title>noty - a Notification Plugin</title>

    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/fira.css">
    <link rel="stylesheet" href="vendor/bootstrap.min.css" />
    <link rel="stylesheet" href="vendor/animate.css" />
    <link rel="stylesheet" href="vendor/ps-icon-pack.css" />
    <link rel="stylesheet" href="fonts/stylesheet.css" />
    <link rel="stylesheet" href="vendor/custom.css" />
    <link rel="stylesheet" href="vendor/noty-3/noty.css" />
    <link rel="stylesheet" href="vendor/google-code-prettify/prettify.css" />

</head>

<body>

    <div class="wrapper">

        <div class="container-fluid">

            <div class="col-md-3">

                <a href="/noty">
                    <img src="img/projects/noty-v3-logo.png" alt="" class="left-logo">
                </a>

                <div class="project-info mt10 text-muted small">
                    <strong>NOTY</strong> is a <strong>notification library</strong> that makes it easy to create alert - success - error - warning - information - confirmation messages as an alternative the standard alert dialog.
                </div>

                <p class="text-center">
                    <img alt="GitHub release" src="https://img.shields.io/github/release/needim/noty.svg">
                    <img src="https://img.shields.io/bower/v/noty.svg" alt="Bower version" />
                    <img src="https://img.shields.io/npm/v/noty.svg" alt="npm version" />
                    <img src="https://img.shields.io/packagist/v/needim/noty.svg" alt="Packagist version" />
                    <img src="https://img.shields.io/david/dev/needim/noty.svg" alt="devDependency Status" />
                    <img src="https://img.shields.io/npm/dm/noty.svg?label=npm%20downloads" alt="npm" />
                    <img src="https://img.shields.io/github/contributors/needim/noty.svg" alt="Contributors" />
                </p>
                <br>
                <ul class="top-links">
                    <li>
                        <a class="active" href="/noty/"><span class="ps-icon ps-icon-code"></span> Installation & Features</a>
                    </li>
                    <li>
                        <a href="/noty/options.html"><span class="ps-icon ps-icon-row-setting"></span> Options & Defaults</a>
                    </li>
                    <li>
                        <a href="/noty/layouts.html"> <span class="ps-icon ps-icon-apps"></span> Types & Layouts</a>
                    </li>
                    <li>
                        <a href="/noty/themes.html"><span class="ps-icon ps-icon-wand"></span> <span class="theme-library">Theme Library</span></a>
                    </li>
                    <li>
                        <a href="/noty/animations.html"><span class="ps-icon ps-icon-blaster"></span> Show & Hide Animations</a>
                        <ul>
                            <li>
                                <a href="/noty/animations.bouncejs.html">with <strong>bounce.js</strong></a>
                            </li>
                            <li>
                                <a href="/noty/animations.mojs.html">with <strong>mojs</strong></a>
                            </li>
                            <li>
                                <a href="/noty/animations.velocityjs.html">with <strong>velocity</strong></a>
                            </li>
                        </ul>
                    </li>
                    <!--<li>-->
                    <!--<a href="/noty/queuing.html"><span class="ps-icon ps-icon-retweet-1"></span> Queue System</a>-->
                    <!--</li>-->
                    <li>
                        <a href="/noty/web-push.html"><span class="ps-icon ps-icon-ufo"></span> Web Push Notifications</a>
                    </li>
                    <li>
                        <a href="/noty/confirmations.html"><span class="ps-icon ps-icon-headset"></span> Confirm Dialogs</a>
                    </li>
                    <li>
                        <a href="/noty/api.html"><span class="ps-icon ps-icon-branch"></span> API & Callbacks</a>
                    </li>
                    <li>
                        <a href="/noty/releases.html"><span class="ps-icon ps-icon-label"></span> Release History</a>
                    </li>
                    <!--<li>-->
                    <!--<a href="/noty/extra.html"> <span class="ps-icon ps-icon-sale-tag"></span> Extra</a>-->
                    <!--</li>-->
                </ul>

                <blockquote>
                    <strong>v2.* documentation</strong> is <a href="/noty/v2"><strong>here</strong></a>.
                </blockquote>

                <div class="mt20 supported-by">
                    <a target="_blank" href="https://www.jetbrains.com?ref=notyjs">
                        <img src="img/projects/logo_JetBrains_4.svg" width="80" alt="">
                        <small class="text-muted">&nbsp; Supported by JetBrains</small>
                    </a>
                </div>

                <br>
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- Nedim - 336x280 -->
                <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-6920776915496505" data-ad-slot="4982077735"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>

            </div>

            <div class="col-md-9">

                <div class="right-buttons">
                    <div class="project-links mt30">
                        <iframe src="http://ned.im/github-buttons/ghbtn.html?user=needim&amp;repo=noty&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="125px" height="35px"></iframe>
                        <iframe src="http://ned.im/github-buttons/ghbtn.html?user=needim&amp;repo=noty&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="115px" height="35px"></iframe>
                        <iframe src="http://ned.im/github-buttons/ghbtn.html?user=needim&amp;type=follow&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
                        <iframe src="http://ned.im/github-buttons/ghbtn.html?user=needim&amp;repo=noty&amp;type=download&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="190px" height="35px"></iframe>
                        <div class="sharer-btn text-center"></div>
                    </div>

                </div>

                <div class="right-content mt10">

                    <div id="releases">

                        <div class="row">
                            <div class="col-xs-12 col-md-12 col-lg-12">

                                <h1><span class="ps-icon ps-icon-ufo"></span> Web Push Notifications</h1>

                                <div>
                                    <p>
                                        With <span class="imp issue bold">v3.1.0-beta</span> push notifications are supported with service worker implementation.
                                    </p>

                                    <h5>
                                        There are some preparation steps
                                    </h5>

                                    <ul class="mt10 mb30">
                                        <li>1) Create a project on the <a target="_blank" href="https://console.firebase.google.com/">Firebase Developer Console</a>.</li>
                                        <li>2) Go to <strong>Project settings</strong> (The cog near the top left corner), click the '<strong>Cloud Messaging</strong>' tab.</li>
                                        <li>3) Note that <strong>Server Key</strong> and <strong>Sender ID</strong>.</li>
                                        <li>4) Create a copy of <a target="_blank" href="https://github.com/needim/noty/blob/master/manifest.json.template">manifest.json.template</a> called <strong>manifest.json</strong> at root folder</li>
                                        <li>5) Replace &lt;your-sender-id&gt; in your new manifest.json with your own Sender ID from the Firebase Developer Console project.</li>
                                        <li>6) Create a copy of <a target="_blank" href="https://github.com/needim/noty/blob/master/service-worker.js.template">service-worker.js.template</a> called <strong>service-worker.js</strong> at root folder</li>
                                        <li>7) Link your manifest &lt;link rel="manifest" href="../manifest.json"&gt;</li>
                                    </ul>

                                    <h5>Now half of the job is done.</h5>

                                    <p>Let's create a Noty.Push instance.</p>

                                    <pre class="prettyprint lang-javascript">
const NotyPush = Noty.Push('/service-worker.js')
  .on('onPermissionGranted', function () {
    console.log('Perm: granted')
  })
  .on('onPermissionDenied', function () {
    console.log('Perm: denied')
  })
  .on('onSubscriptionSuccess', function (subData) {
    console.log('Subscription:', subData)
    // (YOU NEED TO STORE THIS VALUES FOR LATER USE)
  })
  .on('onSubscriptionCancel', function (subData) {
    console.log('Subscription: canceled')
  })
  .on('onWorkerSuccess', function () {
    console.log('Worker: installed')
  })
  .on('onWorkerError', function (err) {
    console.log('Worker: failed', err)
  })
  .on('onWorkerNotSupported', function (err) {
    console.log('Worker: not supported', err)
  })
</pre>

                                    <p>Let's ask user's permission.</p>

                                    <pre class="prettyprint lang-javascript">
NotyPush.requestSubscription()
</pre>

                                    <p>Now the browser will ask permission. And if the user allows it, the service worker will be registered.</p>

                                    <p><strong>You need the store subData onSubscriptionSuccess callback for later use.</strong></p>


                                    <br>
                                    <h3 class="mt30">Sending push notifications from backend (Node.js)</h3>

                                    <p>Now that we have subscription information, we can send notifications with <a target="_blank" href="https://github.com/web-push-libs/web-push"><strong>web-push</strong></a> library.</p>

                                    <br>
                                    <p>Let's install <a target="_blank" href="https://github.com/web-push-libs/web-push"><strong>web-push</strong></a> first.</p>
                                    <pre class="prettyprint lang-bash">
$ <span class="lit">npm</span> install web-push
</pre>

                                    <p>Create a JavaScript file called sendPushExample.js</p>

                                    <pre class="prettyprint lang-javascript">
const webpush = require('web-push')

const vapidKeys = webpush.generateVAPIDKeys()

webpush.setGCMAPIKey('YOUR-SERVER-KEY-FROM-FIREBASE-CONSOLE')

webpush.setVapidDetails(
  'mailto:your@email.com',
  vapidKeys.publicKey,
  vapidKeys.privateKey
)

// Use your previously saved subscription information
const pushSubscription = {
  endpoint: '<-https://android.googleapis.com/gcm/send/dF3pK2rWhOQ..........->',
  keys: {
    auth: '<-insert-auth-key-here->',
    p256dh: '<-insert-p256dh-key-here->'
  }
}

// image & actions are optional
webpush.sendNotification(pushSubscription, JSON.stringify({
  title: 'Noty title',
  body: 'Noty body',
  icon: 'https://your-icon0-url.png',
  image: 'https://your-image-url.png',
  url: 'http://ned.im/noty/?ref=webPushTest',
  actions: [
    {action: 'actionYes', 'title': 'Yes', 'icon': 'https://your-icon1-url.png'},
    {action: 'actionNo', 'title': 'No', 'icon': 'https://your-icon2-url.png'}
  ]
}))
</pre>

                                    <p>After that we can run</p>

                                    <pre class="prettyprint lang-bash">
$ <span class="lit">node</span> sendPushExample.js
</pre>

                                    <p>
                                        Notification should look like this for Chrome
                                    </p>

                                    <p>
                                        <img src="img/notification-example-chrome.png" alt="notification example for chrome">
                                    </p>


                                    <br>
                                    <h3 class="mt30">Checking user's current permission</h3>

                                    <pre class="prettyprint lang-javascript">
NotyPush.getPermissionStatus() === 'granted'
NotyPush.getPermissionStatus() === 'default'
NotyPush.getPermissionStatus() === 'denied'

// In some cases, you may need to check
// whether your service worker is running.
NotyPush.isSWRegistered() === true

// You may ask again for permission,
// If user's permission granted
// but service worker unregistered or not working.
</pre>

                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="next-section mt30 mb30">
                        <!--Next; <a href="/noty/layouts.html">Types & Layouts</a>-->
                    </div>

                </div>

            </div>

        </div>

        <script src="//cdn.jsdelivr.net/mojs/latest/mo.min.js"></script>
        <script src="//cdn.jsdelivr.net/velocity/1.5/velocity.min.js"></script>
        <script type="text/javascript" src="vendor/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="vendor/noty-3/noty.js"></script>
        <script type="text/javascript" src="vendor/google-code-prettify/prettify.js"></script>
        <script type="text/javascript" src="vendor/share.min.js"></script>
        <script type="text/javascript" src="vendor/showdown/showdown.min.js"></script>
        <script type="text/javascript" src="vendor/bounce.min.js"></script>
        <script type="text/javascript" src="vendor/documentation.js"></script>

        <script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function() {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-46744044-1', 'auto');
            ga('send', 'pageview');
        </script>

</body>

</html>